---
description: Flutter向けパフォーマンスとコンテキスト管理（大規模変更時の進め方）
alwaysApply: true
---

# Performance and Context Management (Flutter)

## Context運用

- 単純修正は必要最小限の文脈で実施する。
- 大規模機能、横断的変更、複雑デバッグでは広い文脈で判断する。
- 実装前に依存関係と影響範囲を明文化する。

## 複雑タスクの進め方

1. 先に計画を作成する。
2. フェーズごとに実装と検証を分離する。
3. 各フェーズ完了時にチェックポイントを残す。

## Flutterパフォーマンス指針

- 不要リビルドを抑制し、描画負荷を局所化する。
- 重い処理は isolate や非同期処理へ分離する。
- リスト描画や画像処理は遅延読込とキャッシュを活用する。
- Android/iOS の両方で体感性能を比較し、片方のみ最適化を避ける。

## 依存更新と性能

- 依存は最新安定版を使い、性能回帰の有無を確認する。
- 主要パッケージ更新時は起動時間・スクロール・API応答体感を確認する。
