---
description: Flutter向けタスクオーケストレーション（Todo管理・進行制御・停止条件）
alwaysApply: true
---

# Task Orchestration (Flutter)

## 適用目的

複数ステップの作業を、抜け漏れなく安全に進行する。

## Todo運用ルール

- 複数ステップのタスクでは Todo を作成する。
- 同時に `in_progress` は1件のみ。
- 完了条件を満たした時点で `completed` に更新する。
- 要件変更で不要になった項目は即時 `cancelled` にする。

## 実行順序の原則

1. 影響範囲の把握（読む/調査）
2. 方針確定（必要なら Plan）
3. 実装（最小差分）
4. 検証（analyze/test/build）
5. 変更説明（何を、なぜ、どう検証したか）

## 停止・再確認ルール

- セキュリティ重大問題を見つけたら、その修正を最優先にする。
- 想定外のファイル変更を検知したら、作業を止めて確認する。
- 依存更新で破壊的変更が大きい場合は段階更新へ切り替える。

## 依存管理ルール

- 依存追加/更新は常に最新安定版を選ぶ。
- バージョン値を推測で固定しない。
- 更新理由（セキュリティ/互換性/保守性）を残す。
